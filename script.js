const questions = [
    {
        question: "Вопрос 1: Выберите элементы, НЕ относящиеся к ролям (стейкхолдерам)",
        answers: [
            "Разработчик подсистемы Z, завод “Тепломонтажагрегатика”",
            "Пятый цех",
            "Завод “Промпереработка”",
            "Жители района строительства атомной станции",
            "Системный архитектор",
            "Инженер по требованиям, А.К.Щукин"
        ],
        correctAnswers: ["Пятый цех", "Завод “Промпереработка”", "Инженер по требованиям, А.К.Щукин"]
    },
    {
        question: "Вопрос 2: Выберите неверное утверждение о преимуществах каскадной модели:",
        answers: [
            "необходимость только единственной фазы перехода от старой системы к новой",
            "тестирование начинается на начальных этапах разработки",
            "однократное представление всех возможностей системы",
            "стоимость проекта определяется на начальном этапе"
        ],
        correctAnswers: ["тестирование начинается на начальных этапах разработки", "стоимость проекта определяется на начальном этапе"]
    },
    {
        question: "Вопрос 3: UML",
        answers: [
            "является языком описания и визуализации систем",
            "является языком документирования систем",
            "является языком программирования",
            "является методологией"
        ],
        correctAnswers: ["является языком описания и визуализации систем", "является языком документирования систем"]
    },
    {
        question: "Вопрос 4: Какая структура диалога предполагает обработку сразу нескольких ответов на каждом шаге?",
        answers: [
            "Диалог типа «вопрос-ответ»",
            "Диалог на основе меню",
            "Диалог на основе экранных форм",
            "Диалог на основе командного языка"
        ],
        correctAnswers: ["Диалог на основе экранных форм"]
    },
    {
        question: "Вопрос 5: Выберите какие виды связности модуля (cohesion) существуют",
        answers: [
            "процедурная",
            "по совпадению",
            "логическая",
            "временная",
            "функциональная",
            "коммуникативная",
            "информационная"
        ],
        correctAnswers: ["процедурная", "по совпадению", "логическая", "временная", "функциональная", "коммуникативная", "информационная"]
    },
    {
        question: "Вопрос 6: Выберите верное утверждение о недостатках инкрементальной модели",
        answers: [
            "ограниченность ресурсов, например средств или персонала",
            "промежуточный продукт может быть непригоден для использования",
            "ошибка при разработке архитектуры будет стоить для проекта дороже, чем в V-образной или каскадной моделях",
            "требования к объектам определены недостаточно четко"
        ],
        correctAnswers: ["требования к объектам определены недостаточно четко"]
    },
    {
        question: "Вопрос 7: Укажите этап, не входящий в разработку и управление требованиями",
        answers: [
            "выявление",
            "документирование",
            "анализ",
            "архивация"
        ],
        correctAnswers: ["архивация"]
    },
    {
        question: "Вопрос 8: Какие недостатки необходимо учитывать при оценке возможности применения спиральной модели",
        answers: [
            "Трудности контроля и управления временем разработки",
            "Сложность применения для небольших проектов",
            "Сложность реализации для больших проектов",
            "Высокая зависимость системы от качества анализа рисков",
            "Повышенные требования к заказчику",
            "Полная неспособность адаптировать проект к изменениям в требованиях"
        ],
        correctAnswers: ["Трудности контроля и управления временем разработки", 
            "Сложность применения для небольших проектов", 
            "Высокая зависимость системы от качества анализа рисков", 
            "Повышенные требования к заказчику"]
    },
    {
        question: "Вопрос 9: Чьи взгляды согласует концепция Vision",
        answers: [
            "Директора и подчиненного",
            "Заинтересованных лиц и разработчиков",
            "Клиента и пользователя",
            "Дизайнера и разработчика"
        ],
        correctAnswers: ["Заинтересованных лиц и разработчиков"]
    },
    {
        question: "Вопрос 10: Структурные диаграммы НЕ включают",
        answers: [
            "Диаграмма компонентов",
            "Диаграмма пакетов",
            "Диаграмма атрибутов",
            "Диаграмма состояний",
            "Диаграмма развертывания"
        ],
        correctAnswers: ["Диаграмма состояний", "Диаграмма атрибутов"]
    },
    {
        question: "Вопрос 11: Для чего предназначена диаграмма видов деятельности?",
        answers: [
            "для моделирования динамических аспектов системы",
            "для представления общей конфигурации или топологии распределенной программной системы",
            "для определения отношений между актёрами и объектами",
            "для представления программных компонентов и зависимостей между ними"
        ],
        correctAnswers: ["для моделирования динамических аспектов системы"]
    },
    {
        question: "Вопрос 12: Для чего может использоваться Диаграмма Развертывания?",
        answers: [
            "Для того что бы определить общие границы функциональности проектируемой системы в контексте моделируемой предметной области",
            "Чтобы специфицировать физические узлы, необходимые для размещения на них исполнимых компонентов программной системы",
            "Для представление концептуальной и физической схем баз данных",
            "Чтобы подготовить исходную документацию для взаимодействия разработчиков системы с ее заказчиками и пользователями",
            "Для того что бы, показать физические связи между узлами реализации системы на этапе ее исполнения"
        ],
        correctAnswers: ["Чтобы специфицировать физические узлы, необходимые для размещения на них исполнимых компонентов программной системы", "Для того что бы, показать физические связи между узлами реализации системы на этапе ее исполнения"]
    },
    {
        question: "Вопрос 13: С чего начинается разработка пользовательского интерфейса?",
        answers: [
            "С адаптации интерфейса",
            "С согласования сметы",
            "С погружения в предметную область",
            "С ранних набросков и схем на этапе анализа требований"
        ],
        correctAnswers: [ "С погружения в предметную область"]
    },
    {
        question: "Вопрос 14: Отношение композиции является частным случаем отношения",
        answers: [
            "ассоциации",
            "обобщения",
            "агрегации"
        ],
        correctAnswers: ["агрегации"]
    },
    {
        question: "Вопрос 15: Диаграмма компонентов…",
        answers: [
            "предназначена для представления общей конфигурации или топологии распределённой системы",
            "показывает физические связи между узлами реализации системы на этапе её исполнения",
            "служит для представления программных компонентов и зависимостей между ними",
            "визуализирует общую структуру исходного кода системы",
            "представляет концептуальную и физическую схему баз данных",
            "содержит изображение размещения различных артефактов по отдельным узлам системы"
        ],
        correctAnswers: ["служит для представления программных компонентов и зависимостей между ними", "визуализирует общую структуру исходного кода системы",  "представляет концептуальную и физическую схему баз данных"]
    },
    {
        question: "Вопрос 16: К требованиям проекта относятся:",
        answers: [
            "пользовательская документация, включая обучающие материалы, справочные руководства",
            "информация о выпусках ПО",
            "потребности в обучении персонала",
            "требования по сертификации продукта",
            "бизнес-требования"
        ],
        correctAnswers: ["пользовательская документация, включая обучающие материалы, справочные руководства",
            "информация о выпусках ПО",
            "потребности в обучении персонала",
            "требования по сертификации продукта",]
    },
    {
        question: "Вопрос 17: Для описания пользовательских требований в UML используют",
        answers: [
            "Диаграммы классов",
            "Диаграмма пакетов",
            "Диаграмма вариантов использования"
        ],
        correctAnswers: ["Диаграмма вариантов использования"]
    },
    {
        question: "Вопрос 18: Как называется узел, который обладает некоторым общим вычислительным ресурсом со способностью обрабатывать развёрнутые на нём артефакты?",
        answers: [
            "развёртывание",
            "среда выполнения",
            "процессор",
            "устройство"
        ],
        correctAnswers: ["устройство"]
    },
    {
        question: "Вопрос 20: Какой аспект считается наиболее важным при разработке пользовательского интерфейса?",
        answers: [
            "Привлекательный дизайн",
            "Удобство разработки интерфейса",
            "Скорость написания интерфейса",
            "Удобство для пользователя"
        ],
        correctAnswers: ["Удобство для пользователя"]
    }
];

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function createQuiz() {
    const questionsContainer = document.getElementById('questions');
    shuffleArray(questions);

    questions.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.classList.add('question');
        questionDiv.innerHTML = `<h3>${q.question}</h3>`;

        const answersDiv = document.createElement('div');
        answersDiv.classList.add('answers');

        shuffleArray(q.answers);
        q.answers.forEach(answer => {
            const answerDiv = document.createElement('div');
            answerDiv.classList.add('answer');
            answerDiv.textContent = answer;
            answerDiv.addEventListener('click', () => {
                answerDiv.classList.toggle('selected');
            });
            answersDiv.appendChild(answerDiv);
        });

        const answerBtn = document.createElement('button');
        answerBtn.classList.add('answer-btn');
        answerBtn.textContent = "Ответить";
        answerBtn.addEventListener('click', () => checkAnswer(index, questionDiv, q.correctAnswers));

        questionDiv.appendChild(answersDiv);
        questionDiv.appendChild(answerBtn);
        questionsContainer.appendChild(questionDiv);
    });
}

function checkAnswer(index, questionDiv, correctAnswers) {
    const selectedAnswers = Array.from(questionDiv.querySelectorAll('.selected')).map(el => el.textContent);

    const isCorrect = correctAnswers.every(answer => selectedAnswers.includes(answer)) && 
                      selectedAnswers.every(answer => correctAnswers.includes(answer));

    if (isCorrect) {
        questionDiv.style.backgroundColor = '#d4edda';
    } else {
        questionDiv.style.backgroundColor = '#f8d7da';
    }
}

createQuiz();
